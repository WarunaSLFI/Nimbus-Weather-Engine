(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var t=e.i(43476),s=e.i(71645);let l=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim(),a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:d,...c},x)=>(0,s.createElement)("svg",{ref:x,...r,width:t,height:t,stroke:e,strokeWidth:n?24*Number(a)/Number(t):a,className:l("lucide",i),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(c)&&{"aria-hidden":"true"},...c},[...d.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(o)?o:[o]])),i=(e,t)=>{let r=(0,s.forwardRef)(({className:r,...i},o)=>(0,s.createElement)(n,{ref:o,iconNode:t,className:l(`lucide-${a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...i}));return r.displayName=a(e),r},o=i("cloud-sun",[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]]),d=i("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),c=i("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),x=i("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),m=i("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),h=i("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),u=i("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),p=i("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),f=i("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);function b({onSelectCity:e}){let[l,a]=(0,s.useState)(""),r=function(e,t){let[l,a]=(0,s.useState)(e);return(0,s.useEffect)(()=>{let t=setTimeout(()=>a(e),300);return()=>clearTimeout(t)},[e,300]),l}(l,0),[n,i]=(0,s.useState)(!1),[o,d]=(0,s.useState)([]),[m,h]=(0,s.useState)(!1),[u,p]=(0,s.useState)(-1),b=(0,s.useRef)(null),j=(0,s.useRef)(null);(0,s.useEffect)(()=>{if(!r||r.length<2)return void d([]);j.current&&j.current.abort();let e=new AbortController;j.current=e,h(!0),fetch(`/api/search?q=${encodeURIComponent(r)}`,{signal:e.signal}).then(e=>e.json()).then(e=>{e.results&&(d(e.results),i(!0),p(-1))}).catch(e=>{"AbortError"!==e.name&&console.error(e)}).finally(()=>{h(!1)})},[r]),(0,s.useEffect)(()=>{function e(e){b.current&&!b.current.contains(e.target)&&i(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let g=t=>{e(`${t.lat},${t.lon}`),a(""),i(!1)};return(0,t.jsxs)("div",{ref:b,className:"relative z-50 w-full group",children:[(0,t.jsx)("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-500 transition-colors pointer-events-none",children:m?(0,t.jsx)(c,{size:20,className:"animate-spin"}):(0,t.jsx)(f,{size:20})}),(0,t.jsx)("input",{type:"text",value:l,onChange:e=>a(e.target.value),onKeyDown:e=>{n&&0!==o.length&&("ArrowDown"===e.key?(e.preventDefault(),p(e=>e<o.length-1?e+1:0)):"ArrowUp"===e.key?(e.preventDefault(),p(e=>e>0?e-1:o.length-1)):"Enter"===e.key?(e.preventDefault(),u>=0&&g(o[u])):"Escape"===e.key&&i(!1))},onFocus:()=>i(!0),placeholder:"Search for cities...",className:"w-full bg-slate-100 border border-slate-200 text-slate-900 rounded-2xl py-3.5 pl-12 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium placeholder:text-slate-400 shadow-sm focus:bg-white"}),l&&(0,t.jsx)("button",{onClick:()=>{a(""),d([])},className:"absolute right-3 top-1/2 -translate-y-1/2 p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-200 rounded-full transition-colors",children:(0,t.jsx)(x,{size:16})}),n&&(0,t.jsx)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-2xl border border-slate-200 shadow-xl shadow-slate-200/50 max-h-[300px] overflow-y-auto no-scrollbar py-2",children:o.length>0?(0,t.jsx)("ul",{children:o.map((e,s)=>(0,t.jsx)("li",{children:(0,t.jsxs)("button",{onClick:()=>g(e),className:`w-full text-left px-5 py-3 flex flex-col transition-colors ${s===u?"bg-blue-50":"hover:bg-slate-50"}`,onMouseEnter:()=>p(s),children:[(0,t.jsx)("span",{className:`font-bold text-sm ${s===u?"text-blue-700":"text-slate-900"}`,children:e.name}),(0,t.jsxs)("span",{className:`text-xs ${s===u?"text-blue-500":"text-slate-500"}`,children:[e.region?`${e.region}, `:"",e.country]})]})},e.id))}):l.length>2&&!m&&(0,t.jsx)("div",{className:"p-4 text-center text-slate-400 text-sm",children:"No locations found."})})]})}function j({favorites:e,recent:l,onSelectCity:a,onSearch:r,onRemoveFavorite:n,onRemoveRecent:i}){let[d,c]=(0,s.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("aside",{className:"w-full lg:w-[320px] lg:h-screen lg:fixed lg:left-0 lg:top-0 bg-white border-b lg:border-b-0 lg:border-r border-slate-200 p-6 flex flex-col gap-8 z-20 overflow-visible lg:overflow-y-auto no-scrollbar shadow-sm lg:shadow-none",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 px-2",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-600 rounded-xl text-white shadow-lg shadow-blue-500/20",children:(0,t.jsx)(o,{size:24,strokeWidth:2.5})}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"Weatherly"})]}),(0,t.jsx)(b,{onSelectCity:r}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-2 text-sm font-semibold text-slate-400 uppercase tracking-wider",children:[(0,t.jsx)("span",{children:"Favorites"}),e.length>3&&(0,t.jsxs)("button",{onClick:()=>c(!0),className:"text-blue-600 hover:text-blue-700 text-xs font-bold transition-colors",children:["View All (",e.length,")"]})]}),0===e.length&&(0,t.jsx)("div",{className:"text-xs text-slate-500 px-2 italic",children:"Search and click star to add favorites"}),(0,t.jsx)("div",{className:"flex flex-col gap-3",children:e.slice(0,3).map(e=>(0,t.jsxs)("div",{onClick:()=>a(e),className:"relative flex items-center justify-between bg-slate-50 hover:bg-white hover:border-blue-500/50 p-4 rounded-2xl border border-slate-200 transition-all group cursor-pointer shadow-sm hover:shadow-md",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-white border border-slate-200 p-2 rounded-full text-yellow-500 group-hover:text-yellow-400 transition-colors shadow-sm",children:(0,t.jsx)(u,{size:16,fill:"currentColor"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-bold text-slate-900 group-hover:text-blue-700 transition-colors",children:e.name}),(0,t.jsx)("div",{className:"text-xs text-slate-500 font-medium group-hover:text-slate-600",children:e.country})]})]}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),n(e)},className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors opacity-0 group-hover:opacity-100",title:"Remove from favorites",children:(0,t.jsx)(p,{size:16})})]},e.name))})]}),(0,t.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-2 text-sm font-semibold text-slate-400 uppercase tracking-wider",children:[(0,t.jsx)("span",{children:"Recent"}),(0,t.jsx)(m,{size:14})]}),0===l.length&&(0,t.jsx)("div",{className:"text-xs text-slate-500 px-2 italic",children:"No recent searches"}),(0,t.jsx)("ul",{className:"space-y-1",children:l.map(e=>(0,t.jsxs)("li",{className:"group relative flex items-center",children:[(0,t.jsxs)("button",{onClick:()=>a(e),className:"w-full flex items-center gap-3 px-4 py-3 text-slate-500 hover:bg-slate-50 hover:text-slate-900 rounded-xl transition-colors text-sm font-medium",children:[(0,t.jsx)(h,{size:16,className:"text-slate-400 group-hover:text-slate-600"}),(0,t.jsxs)("span",{className:"truncate flex-1 text-left",children:[e.name,", ",e.country]})]}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),i(e)},className:"absolute right-2 p-1.5 text-slate-400 hover:text-red-500 hover:bg-slate-100 rounded-lg transition-all opacity-0 group-hover:opacity-100",title:"Remove from history",children:(0,t.jsx)(p,{size:14})})]},e.name))})]}),(0,t.jsx)("div",{className:"mt-auto pt-6 border-t border-slate-200 px-2 hidden lg:block",children:(0,t.jsxs)("p",{className:"text-xs text-slate-500 leading-relaxed",children:[(0,t.jsx)("span",{className:"font-semibold text-slate-600",children:"Pro Tip:"})," Press ",(0,t.jsx)("kbd",{className:"bg-slate-100 px-1.5 py-0.5 rounded border border-slate-200 text-slate-500 shadow-sm",children:"K"})," to search anytime."]})})]}),d&&(0,t.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl border border-slate-100 w-full max-w-md overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-100",children:[(0,t.jsx)("h2",{className:"text-lg font-bold text-slate-900",children:"All Favorites"}),(0,t.jsx)("button",{onClick:()=>c(!1),className:"p-2 hover:bg-slate-100 rounded-full text-slate-400 hover:text-slate-600",children:(0,t.jsx)(x,{size:20})})]}),(0,t.jsx)("div",{className:"max-h-[60vh] overflow-y-auto p-4 space-y-2 no-scrollbar",children:e.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-2xl bg-slate-50 hover:bg-white border border-slate-200/60 hover:border-slate-300 transition-colors group shadow-sm",children:[(0,t.jsxs)("button",{onClick:()=>{a(e),c(!1)},className:"flex-1 text-left font-bold text-slate-900",children:[e.name,", ",(0,t.jsx)("span",{className:"text-slate-500 font-normal",children:e.country})]}),(0,t.jsx)("button",{onClick:()=>n(e),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors",children:(0,t.jsx)(x,{size:16})})]},e.name))})]})})]})}let g=i("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);function v({condition:e}){let s=e.toLowerCase(),l=s.includes("rain")||s.includes("drizzle")||s.includes("shower"),a=s.includes("snow")||s.includes("ice")||s.includes("freezing")||s.includes("blizzard"),r=s.includes("cloud")||s.includes("overcast")||s.includes("fog")||s.includes("mist")||s.includes("haze"),n=s.includes("sun")||s.includes("clear"),i=s.includes("thunder");return(0,t.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[n&&(0,t.jsx)("div",{className:"absolute top-[-100px] right-[-100px] w-[500px] h-[500px] bg-amber-100/40 rounded-full blur-[120px] animate-pulse"}),l&&(0,t.jsx)("div",{className:"absolute inset-0 opacity-30",children:[...Array(30)].map((e,s)=>(0,t.jsx)("div",{className:"absolute bg-blue-400 w-[1px] h-[40px]",style:{left:`${100*Math.random()}%`,top:"-50px",animation:`fall ${.5+.4*Math.random()}s linear infinite`,animationDelay:`${2*Math.random()}s`}},s))}),a&&(0,t.jsx)("div",{className:"absolute inset-0 opacity-60",children:[...Array(40)].map((e,s)=>(0,t.jsx)("div",{className:"absolute bg-white rounded-full",style:{left:`${100*Math.random()}%`,top:"-20px",width:`${3+5*Math.random()}px`,height:`${3+5*Math.random()}px`,filter:"blur(1px)",animation:`snow ${4+5*Math.random()}s linear infinite`,animationDelay:`${5*Math.random()}s`}},s))}),r&&(0,t.jsx)("div",{className:"absolute inset-0 opacity-20",children:(0,t.jsx)("div",{className:"absolute top-0 left-[-100px] w-[400%] h-full flex gap-32",style:{animation:"drift 60s linear infinite"},children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,t.jsx)("div",{className:"w-[500px] h-[400px] bg-slate-200 rounded-full blur-[100px]"},s))})}),i&&(0,t.jsx)("div",{className:"absolute inset-0 bg-white",style:{animation:"flash 10s infinite"}})]})}function y({data:e,iconUrl:s,isFavorite:l,onToggleFavorite:a}){return(0,t.jsxs)("div",{className:"col-span-12 xl:col-span-8 bg-white text-slate-900 rounded-[2rem] border border-slate-200 shadow-sm p-0 relative overflow-hidden flex flex-col h-auto transition-all duration-500 pb-8",children:[(0,t.jsx)(v,{condition:e.condition}),(0,t.jsx)("div",{className:"absolute top-0 right-0 p-12 opacity-5 pointer-events-none"}),(0,t.jsxs)("div",{className:"p-6 md:p-8 flex flex-col justify-between relative z-10 flex-1 gap-2",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl md:text-4xl font-black tracking-tight mb-1 flex items-center gap-3 text-slate-900",children:e.city}),(0,t.jsx)("p",{className:"text-slate-500 text-lg md:text-xl font-semibold",children:e.date})]}),(0,t.jsx)("button",{onClick:a,className:"mt-1 p-2 rounded-full hover:bg-slate-100 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-200","aria-label":l?"Remove from favorites":"Add to favorites",children:(0,t.jsx)(g,{size:24,className:`transition-all ${l?"fill-amber-400 text-amber-400":"text-slate-300 hover:text-amber-400"}`})})]}),(0,t.jsx)("div",{className:"bg-blue-50 px-3 py-1.5 rounded-full text-xs font-bold text-blue-600 border border-blue-100 self-start",children:"Live Updates"})]}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row items-center md:items-end justify-between gap-4 md:gap-8 animate-in fade-in zoom-in duration-500 pb-0",children:[(0,t.jsxs)("div",{className:"text-7xl md:text-8xl font-black tracking-tighter text-slate-900 leading-none",children:[e.temp,"°",e.unit]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1 mb-1 items-center md:items-end",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-lg md:text-xl font-bold capitalize text-slate-900",children:[(0,t.jsx)("img",{src:`https:${s}`,alt:e.condition,className:"w-10 h-10 object-contain"}),e.condition]}),(0,t.jsxs)("div",{className:"text-slate-400 mt-1 font-semibold text-base md:text-lg",children:["H: ",e.high,"°",e.unit,"  •  L: ",e.low,"°",e.unit]})]})]})]})]})}function N({data:e,unit:s}){return(0,t.jsxs)("div",{className:"col-span-12",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,t.jsx)("h3",{className:"text-xl font-bold text-slate-900",children:"Hourly Forecast"})}),(0,t.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-4",children:e.map((e,l)=>{let a="C"===s?e.temp_c:e.temp_f;return(0,t.jsxs)("div",{className:`p-2 py-3 rounded-2xl border flex flex-col items-center gap-1 transition-all hover:shadow-lg ${e.isNow?"bg-slate-100 text-slate-900 border-slate-200 shadow-sm":"bg-white border-slate-200 hover:border-slate-300 text-slate-600 hover:bg-slate-50"}`,children:[(0,t.jsx)("span",{className:"text-xs font-medium text-slate-500",children:e.time}),(0,t.jsx)("img",{src:`https:${e.conditionIcon}`,alt:e.conditionText,className:"w-8 h-8 object-contain"}),(0,t.jsxs)("span",{className:"text-base font-bold text-slate-900",children:[a,"°"]}),e.chance_of_rain>20&&(0,t.jsxs)("span",{className:"text-[9px] font-bold text-blue-600",children:[e.chance_of_rain,"% Rain"]})]},l)})})]})}let w=i("cloud-rain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);function k({data:e,unit:s}){return(0,t.jsxs)("div",{className:"bg-white border border-slate-200 shadow-sm rounded-[2rem] p-8 flex flex-col",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-6",children:"7-Day Forecast"}),(0,t.jsx)("div",{className:"flex flex-col gap-1 flex-1",children:e.map((e,l)=>(0,t.jsxs)("div",{className:"group flex items-center justify-between py-4 border-b border-slate-100 last:border-0 hover:bg-slate-50 px-2 rounded-xl transition-colors cursor-default",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 w-32",children:[(0,t.jsx)("span",{className:"text-slate-500 font-medium w-12",children:e.dayName}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("img",{src:`https:${e.conditionIcon}`,alt:e.conditionText,className:"w-8 h-8 object-contain"})})]}),(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center",children:e.chance_of_rain>0?(0,t.jsxs)("div",{className:"flex items-center gap-1 text-blue-600 bg-blue-50 px-2 py-1 rounded-lg",children:[(0,t.jsx)(w,{size:14}),(0,t.jsxs)("span",{className:"text-xs font-bold",children:[e.chance_of_rain,"%"]})]}):(0,t.jsx)("span",{className:"text-xs text-slate-400 font-medium",children:e.conditionText})}),(0,t.jsxs)("div",{className:"flex items-center gap-4 w-32 justify-end",children:[(0,t.jsxs)("span",{className:"font-bold text-slate-900",children:["C"===s?e.max_c:e.max_f,"°"]}),(0,t.jsxs)("span",{className:"text-slate-400 font-medium",children:["C"===s?e.min_c:e.min_f,"°"]})]})]},l))}),e.some(e=>e.isMock)&&(0,t.jsx)("div",{className:"mt-4 pt-4 border-t border-slate-100 text-center",children:(0,t.jsx)("p",{className:"text-[10px] text-slate-400",children:"* Extended forecast estimated."})})]})}let C=i("droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),M=i("wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]),z=i("thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);function _({data:e,unit:s}){return(0,t.jsxs)("div",{className:"bg-white rounded-[2rem] p-8 border border-slate-200 shadow-sm",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-6",children:"Weather Details"}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 rounded-full bg-blue-50 text-blue-600",children:(0,t.jsx)(z,{size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-slate-500",children:"Feels Like"}),(0,t.jsxs)("p",{className:"text-lg font-bold text-slate-900",children:["C"===s?e.feelsLike_c:e.feelsLike_f,"°",s]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 rounded-full bg-blue-50 text-blue-600",children:(0,t.jsx)(M,{size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-slate-500",children:"Wind"}),(0,t.jsxs)("p",{className:"text-lg font-bold text-slate-900",children:[e.wind_kph," kph"]})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 rounded-full bg-blue-50 text-blue-600",children:(0,t.jsx)(C,{size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-slate-500",children:"Humidity"}),(0,t.jsxs)("p",{className:"text-lg font-bold text-slate-900",children:[e.humidity,"%"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 rounded-full bg-blue-50 text-blue-600",children:(0,t.jsx)(u,{size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-slate-500",children:"UV Index"}),(0,t.jsx)("p",{className:"text-lg font-bold text-slate-900",children:e.uv})]})]})]})]})]})}let S=i("cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),$=i("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),A=i("leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);function L({data:e,unit:s}){var l;let a=[{label:"Precipitation",value:`${e.precip_mm} mm`,icon:w},{label:"Cloud Cover",value:`${e.cloud}%`,icon:S},{label:"Wind Gust",value:`${e.gust_kph} kph`,icon:M},{label:"Dew Point",value:"C"===s?`${e.dewpoint_c}\xb0C`:`${e.dewpoint_f}\xb0F`,icon:C},{label:"Moon Phase",value:e.moon_phase,icon:$,span:2}];return e.us_epa_index>0&&a.push({label:"Air Quality",value:(l=e.us_epa_index)<=2?"Good":l<=4?"Moderate":"Unhealthy",icon:A}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4",children:a.map((e,s)=>{let l=e.icon;return(0,t.jsxs)("div",{className:`bg-white border border-slate-200 shadow-sm p-5 rounded-3xl flex flex-col justify-between gap-2 hover:bg-slate-50 transition-colors h-24 ${e.span?"col-span-2":""}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-slate-500",children:[(0,t.jsx)("span",{className:"text-xs font-bold uppercase tracking-wider",children:e.label}),(0,t.jsx)(l,{size:18,className:"text-slate-400"})]}),(0,t.jsx)("div",{className:"text-xl font-bold text-slate-900 truncate",title:e.value,children:e.value})]},s)})})}let E="weatherly_recent",F="weatherly_favorites",R="weatherly_last_active",D=()=>{try{let e=localStorage.getItem(E);return e?JSON.parse(e):[]}catch(e){return[]}},I=()=>{try{let e=localStorage.getItem(F);return e?JSON.parse(e):[]}catch(e){return[]}},T=e=>{let t,s=I();return t=s.find(t=>t.name===e.name)?s.filter(t=>t.name!==e.name):[e,...s],localStorage.setItem(F,JSON.stringify(t)),t};function P(e){return{name:e.location.name,country:e.location.country,lat:e.location.lat,lon:e.location.lon}}function H(){let[e,l]=(0,s.useState)(null),[a,r]=(0,s.useState)(!0),[n,i]=(0,s.useState)(null),[m,h]=(0,s.useState)([]),[u,p]=(0,s.useState)([]),[f,b]=(0,s.useState)(!1),[g,v]=(0,s.useState)("C");(0,s.useEffect)(()=>{h(I()),p(D());let e=(()=>{try{let e=localStorage.getItem(R);return e?JSON.parse(e):null}catch{return null}})();w(e?`${e.lat},${e.lon}`:"Helsinki")},[]);let w=async e=>{r(!0),i(null);try{var t;let s=await fetch(`/api/weather?q=${encodeURIComponent(e)}`);if(!s.ok)throw Error("Failed to fetch weather");let a=await s.json();l(a),t=P(a),localStorage.setItem(R,JSON.stringify(t))}catch(e){i("Could not load weather data. Please try again."),console.error(e)}finally{r(!1)}},C=e=>{w(e),b(!1),window.scrollTo({top:0,behavior:"smooth"})};(0,s.useEffect)(()=>{if(e){var t;let s,l,a=(t=P(e),s=D().filter(e=>e.name!==t.name),l=[t,...s].slice(0,6),localStorage.setItem(E,JSON.stringify(l)),l);a&&p(a)}},[e]);let M=()=>{e&&h(T(P(e)))},z=!!e&&m.some(t=>t.name===e.location.name);return(0,t.jsxs)("div",{className:"min-h-screen bg-slate-50 text-slate-900 font-sans selection:bg-blue-500/30 selection:text-blue-900",children:[(0,t.jsxs)("div",{className:`${f?"fixed inset-0 z-50 bg-slate-50 overflow-y-auto":"hidden lg:block"}`,children:[(0,t.jsx)("div",{className:"lg:hidden p-4 flex justify-end",children:(0,t.jsx)("button",{onClick:()=>b(!1),className:"p-2 bg-white border border-slate-200 rounded-full text-slate-600 shadow-sm",children:(0,t.jsx)(x,{})})}),(0,t.jsx)(j,{favorites:m,recent:u,onSearch:C,onSelectCity:e=>{C(`${e.lat},${e.lon}`),b(!1)},onRemoveFavorite:e=>{h(T(e))},onRemoveRecent:e=>{let t;p((t=D().filter(t=>t.name!==e.name),localStorage.setItem(E,JSON.stringify(t)),t))}})]}),(0,t.jsxs)("div",{className:"lg:hidden flex items-center justify-between p-4 bg-white border-b border-slate-200 sticky top-0 z-40 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"p-1.5 bg-blue-600 rounded-lg text-white",children:(0,t.jsx)(o,{size:20})}),(0,t.jsx)("span",{className:"font-bold text-lg text-slate-900",children:"Weatherly"})]}),(0,t.jsx)("button",{onClick:()=>b(!0),className:"p-2 bg-white rounded-full shadow-sm border border-slate-200 text-slate-600",children:(0,t.jsx)(d,{size:20})})]}),(0,t.jsxs)("main",{className:"lg:ml-[320px] min-h-screen p-4 md:p-8 lg:p-12 max-w-[1600px] mx-auto flex flex-col",children:[(()=>{if(a&&!e)return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[400px] gap-4",children:[(0,t.jsx)(c,{size:48,className:"text-blue-500 animate-spin"}),(0,t.jsx)("p",{className:"text-slate-400 font-medium",children:"Loading forecast..."})]});if(n)return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[400px] gap-4",children:[(0,t.jsx)("p",{className:"text-red-500 font-bold text-lg",children:n}),(0,t.jsx)("button",{onClick:()=>w("Helsinki"),className:"px-6 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700",children:"Try Default"})]});if(!e)return null;let s={city:e.location.name,country:e.location.country,date:new Date(e.location.localtime).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"short"}),temp:"C"===g?e.current.temp_c:e.current.temp_f,condition:e.current.conditionText,description:e.current.conditionText,feelsLike:"C"===g?e.current.feelslike_c:e.current.feelslike_f,humidity:e.current.humidity,windSpeed:e.current.wind_kph,high:"C"===g?e.daily[0]?.max_c||0:e.daily[0]?.max_f||0,low:"C"===g?e.daily[0]?.min_c||0:e.daily[0]?.min_f||0,unit:g,icon:c};return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex justify-end mb-6",children:(0,t.jsxs)("div",{className:"bg-white border border-slate-200 rounded-xl p-1 flex gap-1 shadow-sm",children:[(0,t.jsx)("button",{onClick:()=>v("C"),className:`px-4 py-1.5 rounded-lg text-sm font-bold transition-all ${"C"===g?"bg-blue-600 text-white shadow-md shadow-blue-500/20":"text-slate-500 hover:bg-slate-50"}`,children:"°C"}),(0,t.jsx)("button",{onClick:()=>v("F"),className:`px-4 py-1.5 rounded-lg text-sm font-bold transition-all ${"F"===g?"bg-blue-600 text-white shadow-md shadow-blue-500/20":"text-slate-500 hover:bg-slate-50"}`,children:"°F"})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-12 gap-8 animate-in fade-in duration-500",children:[(0,t.jsxs)("div",{className:"col-span-12 xl:col-span-8 flex flex-col gap-8",children:[(0,t.jsx)(y,{data:s,isFavorite:z,onToggleFavorite:M,iconUrl:e.current.conditionIcon}),(0,t.jsx)(N,{data:e.hourly,unit:g}),(0,t.jsx)(k,{data:e.daily,unit:g})]}),(0,t.jsxs)("div",{className:"col-span-12 xl:col-span-4 flex flex-col gap-8",children:[(0,t.jsx)(_,{data:e.details,unit:g}),e.extraDetails&&(0,t.jsx)(L,{data:e.extraDetails,unit:g})]})]})]})})(),(0,t.jsx)("div",{className:"mt-auto pt-8 text-center md:text-right",children:(0,t.jsx)("a",{href:"https://www.weatherapi.com/",title:"Free Weather API",target:"_blank",rel:"noreferrer",className:"text-[10px] text-slate-400 hover:text-slate-600 uppercase tracking-widest font-bold",children:"Powered by WeatherAPI.com"})})]})]})}e.s(["default",()=>H],31713)}]);